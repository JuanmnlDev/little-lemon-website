import{a as b,b as y,r as o,j as e,s as j}from"./index-C3KObasD.js";import{a as w}from"./axios-BDe-SwBN.js";import{M as v}from"./Main-B5LS8WXF.js";function C(){const u=b(),x=y(),[a,g]=o.useState({email:"",password:""}),[s,n]=o.useState({}),[d,i]=o.useState(!1),l=r=>{g({...a,[r.target.name]:r.target.value}),n({...s,[r.target.name]:""})},f=()=>{const r={};return a.email||(r.email="Email is required"),a.password||(r.password="Password is required"),r},h=async r=>{var m,p;r.preventDefault();const c=f();if(Object.keys(c).length>0){n(c);return}i(!0);try{const t=await w.post("/login",a);x(j({user:t.data.user,token:t.data.token,profile:t.data.profile[0]})),u("/")}catch(t){n({api:((p=(m=t.response)==null?void 0:m.data)==null?void 0:p.message)||"An error occurred"})}finally{i(!1)}};return e.jsx(v,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s.api&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:s.api})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:a.email,onChange:l,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${s.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:a.password,onChange:l,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${s.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Password"}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:d?"Signing in...":"Sign in"})})]})]})})})}export{C as default};
