import{a as y,b as j,r as d,j as e,s as v}from"./index-C3KObasD.js";import{a as N}from"./axios-BDe-SwBN.js";import{M as C}from"./Main-B5LS8WXF.js";function k(){const f=y(),g=j(),[s,h]=d.useState({name:"",email:"",password:"",password_confirmation:""}),[r,t]=d.useState({}),[i,l]=d.useState(!1),n=a=>{h({...s,[a.target.name]:a.target.value}),t({...r,[a.target.name]:""})},w=()=>{const a={};return s.name||(a.name="Name is required"),s.email||(a.email="Email is required"),s.password||(a.password="Password is required"),s.password.length<8&&(a.password="Password must be at least 8 characters"),s.password!==s.password_confirmation&&(a.password_confirmation="Passwords do not match"),a},b=async a=>{var m,p,u,x;a.preventDefault();const c=w();if(Object.keys(c).length>0){t(c);return}l(!0);try{const o=await N.post("/register",s);g(v({user:o.data.user,token:o.data.token})),f("/")}catch(o){t({api:((p=(m=o.response)==null?void 0:m.data)==null?void 0:p.message)||"An error occurred",...(x=(u=o.response)==null?void 0:u.data)==null?void 0:x.errors})}finally{l(!1)}};return e.jsx(C,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[r.api&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-700",children:r.api})}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:n,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${r.name?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Full Name"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:n,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${r.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:n,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${r.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Password"}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"sr-only",children:"Confirm Password"}),e.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:"password",required:!0,value:s.password_confirmation,onChange:n,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${r.password_confirmation?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Confirm Password"}),r.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password_confirmation})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-400",children:i?"Creating account...":"Create Account"})})]})]})})})}export{k as default};
