import{j as t,r as l}from"./index-C3KObasD.js";import"./axios-BDe-SwBN.js";import{t as j}from"./tables-CI4XegLN.js";const p=({id:i,title:s,image:c,description:a})=>t.jsxs("div",{className:"table-card pb-16 relative",children:[t.jsx("img",{src:c,alt:s,className:"table-image"}),t.jsxs("div",{className:"table-content",children:[t.jsx("h3",{children:s}),t.jsx("p",{className:"table-description",children:a})]}),t.jsx("a",{href:`/booking?table_id=${i}`,className:"btn btn-primary left-[50%] -translate-x-[50%] block w-48 text-center absolute bottom-4",children:"Reserve this table"})]}),C=({limit:i=null})=>{const[s,c]=l.useState([]),[a,u]=l.useState(1),[g,m]=l.useState([]),[h,b]=l.useState(!0),r=8;l.useEffect(()=>{(async()=>{b(!0),c(j.tables),b(!1)})()},[]);const d=a*r,x=d-r;l.useEffect(()=>{if(s.length>0){let e=s.slice(x,d);i!==null&&(e=s.slice(0,i).sort((n,f)=>n.rating>f.rating)),m(e)}},[s]);const o=e=>u(e);return h?t.jsx("div",{className:"loading",children:"Loading..."}):t.jsxs("div",{className:"tables-container",children:[t.jsx("div",{className:"tables-grid",children:g.map(e=>t.jsx(p,{id:e.id,title:e.title,image:e.image,rating:e.rating,description:e.description},e.id))}),i===null&&t.jsxs("div",{className:"pagination",children:[t.jsx("button",{onClick:()=>o(a-1),disabled:a===1,className:"pagination-button",children:"Previous"}),[...Array(Math.ceil(s.length/r))].map((e,n)=>t.jsx("button",{onClick:()=>o(n+1),className:`pagination-button ${a===n+1?"active":""}`,children:n+1},n+1)),t.jsx("button",{onClick:()=>o(a+1),disabled:a===Math.ceil(s.length/r),className:"pagination-button",children:"Next"})]})]})};export{C as T};
